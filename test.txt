if (msg.sender === nickname && !msg.retracted) {
        const deleteButton = document.createElement('button');
        deleteButton.type = 'button';
        deleteButton.textContent = '收回';
        deleteButton.className = 'recall-button';

        // 為按鈕綁定事件處理函數來發送收回訊息的請求
        deleteButton.onclick = () => {
            retractMessage(msg.id);
        };

        messageWrapper.appendChild(deleteButton);
    }




    socket.on('retractMessage', (messageId) => {
    const msgElement = document.getElementById(messageId + '-text');
    const msgWrapper = document.getElementById(messageId);

    if (msgElement) {
        msgElement.textContent = '[訊息已收回]';
        msgElement.classList.add('retracted');

        const retractButton = msgWrapper.querySelector('.tooltip .rbt');
        if (retractButton) {
            retractButton.remove();
        }
    }
});